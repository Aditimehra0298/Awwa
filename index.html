<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amma - Sign In</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari:wght@400;600;700;800;900&family=Jaini+Purva:ital,wght@0,400;1,400&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Top header with logo (left corner) -->
    <header class="site-header">
        <img src="public/Awwa2-logo.png" alt="AWWA" class="header-logo">
    </header>
    <div class="container">
        <div class="login-card">
            <!-- Left Column - Photo Collage -->
            <div class="photo-section">
                <div class="photo-collage">
                    <img src="public/login1.png" alt="Women's Community Photos" class="main-image">
                </div>
            </div>

            <!-- Right Column - Login Form -->
            <div class="form-section">
                <div class="form-container">
                    <!-- Logo and Header -->
                    <div class="header">
                        <div class="project-badge">
                            <span class="badge-text">PROJECT</span>
                            
                        </div>
                        <div class="hindi-hero">
                            <div class="hindi-title">दीप <img src="public/Untitled design (25).png" alt="दीप" class="diya-icon"></div>
                            <div class="hindi-sub">☼ जागरूकता से आत्मनिर्भरता ☼</div>
                        </div>
                        <p class="subtitle">Please sign in to continue</p>
                    </div>

                    <!-- Login Form -->
                    <form class="login-form">
                        <div class="form-group">
                            <label for="userId">User ID</label>
                            <div class="input-container">
                                <i class="fas fa-user input-icon"></i>
                                <input type="text" id="userId" name="userId" value="bt01" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="password">Password</label>
                            <div class="input-container">
                                <i class="fas fa-lock input-icon"></i>
                                <input type="password" id="password" name="password" placeholder="••••••" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="userType">User Type</label>
                            <div class="input-container">
                                <i class="fas fa-shield-alt input-icon"></i>
                                <select id="userType" name="userType" required>
                                    <option value="">Select your role</option>
                                    <option value="admin">L1</option>
                                    <option value="teacher">L2</option>
                                    <option value="student">L3</option>
                                    <option value="parent">L4</option>
                                </select>
                                <i class="fas fa-chevron-down select-arrow"></i>
                            </div>
                        </div>

                        <button type="submit" class="signin-btn">
                            Sign In
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <script>
        // Example credentials
        const validUsers = [
            { userId: 'tarunpreet singh', password: 'admin123', userType: 'admin', name: 'Col Tarunpreet Singh', designation: 'Commanding Officer', phone: '9650300475' },
            { userId: 'piyush sharma',     password: 'admin123', userType: 'admin', name: 'Lt Col Piyush Sharma', designation: 'Second in Comd', phone: '9797719357' },
            { userId: 'harish kumar',     password: 'admin123', userType: 'admin', name: 'Maj Harish Kumar', designation: 'Adjt', phone: '9256172418' },
            { userId: 'rahul t more',      password: 'admin123', userType: 'admin', name: 'Lt Col Rahul T More', designation: 'OIC Tech Cell', phone: '7006216984' },
            { userId: 'admin',      password: 'admin123', userType: 'admin', name: 'Administrator', designation: 'System Admin', phone: '0000000000' },
            { userId: 'bt01',       password: 'admin123', userType: 'admin', name: 'Sushma Bhatti', designation: 'Battalion Command', phone: '9087654321' }
        ];

        // Handle login
        document.querySelector('.login-form').addEventListener('submit', function (e) {
            e.preventDefault();
            const userId = document.getElementById('userId').value.trim();
            const password = document.getElementById('password').value;
            const userType = document.getElementById('userType').value;

            const match = validUsers.find(u => u.userId === userId && u.password === password && u.userType === userType);
            if (match) {
                // Persist complete session info
                localStorage.setItem('userInfo', JSON.stringify({ 
                    userId: match.userId, 
                    name: match.name, 
                    userType: match.userType,
                    designation: match.designation,
                    phone: match.phone
                }));
                window.location.href = 'dashboard.html';
            } else {
                alert('Invalid credentials.\n\nTry one of these:\n- tarunpreet singh / admin123 / admin\n- piyush sharma / admin123 / admin\n- harish kumar / admin123 / admin\n- rahul t more / admin123 / admin\n- admin / admin123 / admin\n- bt01 / admin123 / admin');
            }
        });
    </script>
    
    <!-- D-ID Chatbot -->
    <script type="module"
          src="https://agent.d-id.com/v2/index.js"
          data-mode="fabio"
          data-client-key="Z29vZ2xlLW9hdXRoMnwxMDA1MjIwMjc4MDA4MjIzNDk5MDE6aDEyZUd2MFNUa2gzWkRhWG0ybjA2"
          data-agent-id="v2_agt_CKSD5djL"
          data-name="did-agent"
          data-monitor="true"
          data-orientation="horizontal"
          data-position="right">
    </script>
    
    <!-- Fallback chatbot if D-ID doesn't load -->
    <div id="chatbot-fallback" style="position: fixed; bottom: 20px; right: 20px; z-index: 1000; display: none;">
        <button onclick="toggleFallbackChat()" style="background: #ff7a00; color: white; border: none; padding: 15px; border-radius: 50%; box-shadow: 0 4px 12px rgba(0,0,0,0.3); cursor: pointer;">
            <i class="fas fa-comments" style="font-size: 20px;"></i>
        </button>
    </div>
    
    <script>
        // Check if D-ID chatbot loads, show fallback if not
        setTimeout(() => {
            if (!document.querySelector('[data-name="did-agent"]')) {
                document.getElementById('chatbot-fallback').style.display = 'block';
            }
        }, 3000);
        
        function toggleFallbackChat() {
            alert('Chatbot is temporarily unavailable. Please contact support for assistance.');
        }
    </script>
</body>
</html>
